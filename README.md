# travalbook （行迹）
## **一、用途**

最初想做这个是2022年夏天，我家优优要参加夏令营，希望能实时看到他在什么位置，可是这么简单的功能手机竟然没有内置。当时是自己架设了开源的OpenGTS服务器（https://blog.csdn.net/robinfoxnan/article/details/125782607），手机端配置了gpsLogger上传信息，能实现轨迹查看了。但是并不方便，主要是网页使用开源地图，比较慢，而且没有手机端可以查看。

后来，陆续使用国内的一些软件，包括足迹、守护家人等，总有这样那样的不满意。之后也测试了国外开源的聊天软件 tinode，也是有各种设计上的问题，所以最终决定还是自己做一个。



## **二、意义**

去年，之前一个爱好徒步的同事出事了，搜救了好久才找到，在朋友圈看到噩耗的时候已经过去好多天了。之后的新闻中也时不时有各种人员失踪的新闻。

如果我们的手机或者APP能实时在家人与朋友间查看位置信息，很多问题解决起来也许会更加容易。

场景1：查看老人、孩子等家人的位置；

场景2：徒步或者团建等户外活动，相互查看位置，类似单兵作战辅助工具；

场景3：旅游、徒步轨迹分享；



## **三、功能定义**

travalbook 是一款安卓开源APP。是个人或者小公司内部匿名的社交软件，可以用记录与分享个人位置轨迹的APP，用于家人与朋友之间查看相互位置。同时为徒步爱好者提供一些有用的功能。



阶段一：实现基本的用户管理与位置信息共享；

阶段二：实现基于地图的精确标注等户外场景功能。

阶段三：实现社区功能；【TODO】

阶段四：实现基本的聊天；【TODO】



## 四、当前版本【2023-12-12】

1）实现了



## 五、使用方法

### 5.1 注册与登录

首次使用需要注册，当用户名一栏填写字母或者汉字，下面填写密码，则使用此用户名和密码注册一个账号，注册成功后返回的账号为数字。之后就可以使用数字账号登录了。
<img src="doc/regist.jpg" alt="Payment Image" width="300" height="600" />

### 5.2 主界面说明
登录以后进入的界面就是地图界面，如下：
<img src="doc/map_me.jpg" alt="Payment Image" width="300" height="600" />
其中，功能区分为几个：
1）最底部是自己与显示位置的好友的图标，点击时候地图会自动切换位置；
2）图标上侧是经纬度坐标的详细信息的信息栏；
3）窗口顶部右侧按钮分别是：缩放和隐藏信息栏；
4）右侧的图标按钮分别是：图层切换，记录当前轨迹，分享轨迹，导入轨迹。

点击好友的图标，效果如下：
<img src="doc/map.jpg" alt="Payment Image" width="300" height="600" />



### 5.3更改个人信息（可选）

主要是更改昵称，其他的不重要，以后有社区了才有用。
<img src="doc/personal.jpg" alt="Payment Image" width="300" height="600" />


### 5.4 搜索好友

好友目前仅仅支持号码搜索，当关注对方时候，默认也是等于向对方开放了自己的位置查看权限，
当双方互相关注对方的时候，可以相互查看位置信息；
不需要实时查看的不必一定开启在地图上展示；



### 5.5 设置运动模式的信息采集周期

这个功能主要是为了在“电池的消耗”与“采集位置信息的频率”之间达到一个平衡而设置的，
下图是默认的参数：
<img src="doc/setting.jpg" alt="Payment Image" width="300" height="600" />

### 5.6  运动模式切换
在界面顶部点击不同的图标，就可以设置不同的运动模式，默认是徒步模式，
如果希望长时间使用，又需要低功耗运行，那么建议使用节能模式，能几分钟上报一次位置即可。
<img src="doc/sport.jpg" alt="Payment Image" width="300" height="600" />





## 后记

这款软件并没有打算如同其他的位置分享软件一样添加广告或者让用户购买会员，因为广告十分影响使用体验，我个人也十分讨厌打开一个软件，本来十分着急使用，却要等半天才能关闭广告。我个人也比较讨厌会员机制。

所以，我打算采用开源的方式，架设了一个测试服务器。账号本身是匿名登录，如果对自己的行程隐私十分在意朋友也可以自己架设服务器。的人也可以如果您觉得这个软件对您有帮助，您有条件允许的情况下，可以使用下面的微信二维码请我喝杯咖啡，那么将是对我莫大的支持和鼓励，谢谢。
<img src="doc/pay.jpg" alt="Payment Image" width="300" height="300" />
再次感谢！